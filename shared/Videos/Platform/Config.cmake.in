# Configuration de package pour VideoFilterProcessor_Platform
@PACKAGE_INIT@

# Vérification de la plateforme
if(IOS AND NOT @IOS@)
    set_package_properties(VideoFilterProcessor_Platform PROPERTIES
        DESCRIPTION "VideoFilterProcessor_Platform - iOS platform not supported in this build"
        TYPE OPTIONAL
    )
elseif(ANDROID AND NOT @ANDROID@)
    set_package_properties(VideoFilterProcessor_Platform PROPERTIES
        DESCRIPTION "VideoFilterProcessor_Platform - Android platform not supported in this build"
        TYPE OPTIONAL
    )
endif()

# Import des cibles
include("${CMAKE_CURRENT_LIST_DIR}/VideoFilterProcessor_PlatformTargets.cmake")

# Définition des variables
set(VideoFilterProcessor_Platform_FOUND TRUE)
set(VideoFilterProcessor_Platform_VERSION "@PROJECT_VERSION@")

# Fonction helper pour la configuration
function(configure_video_filter_processor target)
    target_compile_definitions(${target}
        PRIVATE
            $<$<PLATFORM_ID:Darwin>:PLATFORM_MACOS>
            $<$<PLATFORM_ID:iOS>:PLATFORM_IOS>
            $<$<PLATFORM_ID:Android>:PLATFORM_ANDROID>
    )

    # Configuration spécifique à la plateforme
    if(IOS)
        target_link_libraries(${target} PRIVATE
            "-framework Metal"
            "-framework GLKit"
            "-framework OpenGLES"
        )
    elseif(ANDROID)
        target_link_libraries(${target} PRIVATE
            android
            EGL
            GLESv3
        )
    endif()
endfunction()
